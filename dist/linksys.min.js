!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=29)}([function(t,e){t.exports=function(t){!function(t){if(!t)throw new Error("Eventify cannot use falsy object as events subject");for(var e=["on","fire","off"],n=0;n<e.length;++n)if(t.hasOwnProperty(e[n]))throw new Error("Subject cannot be eventified, since it already has property '"+e[n]+"'")}(t);var e=function(t){var e=Object.create(null);return{on:function(n,r,o){if("function"!=typeof r)throw new Error("callback is expected to be a function");var i=e[n];return i||(i=e[n]=[]),i.push({callback:r,ctx:o}),t},off:function(n,r){var o=void 0===n;if(o)return e=Object.create(null),t;if(e[n]){var i="function"!=typeof r;if(i)delete e[n];else for(var a=e[n],u=0;u<a.length;++u)a[u].callback===r&&a.splice(u,1)}return t},fire:function(n){var r,o=e[n];if(!o)return t;arguments.length>1&&(r=Array.prototype.splice.call(arguments,1));for(var i=0;i<o.length;++i){var a=o[i];a.callback.apply(a.ctx,r)}return t}}}(t);return t.on=e.on,t.off=e.off,t.fire=e.fire,t}},function(t,e){function n(t){var e="number"==typeof t?t:+new Date,n=function(){return(268435455&(e=4294967295&(3042594569^(e=(e=4294967295&((e=(e=4294967295&(3345072700^(e=e+2127912214+(e<<12)&4294967295)^e>>>19))+374761393+(e<<5)&4294967295)+3550635116^e<<9))+4251993797+(e<<3)&4294967295)^e>>>16)))/268435456};return{next:function(t){return Math.floor(n()*t)},nextDouble:function(){return n()}}}t.exports={random:n,randomIterator:function(t,e){var r=e||n();if("function"!=typeof r.next)throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:function(e){var n,o,i;for(n=t.length-1;n>0;--n)o=r.next(n+1),i=t[o],t[o]=t[n],t[n]=i,e(i);t.length&&e(t[0])},shuffle:function(){var e,n,o;for(e=t.length-1;e>0;--e)n=r.next(e+1),o=t[n],t[n]=t[e],t[e]=o;return t}}}}},function(t,e){t.exports=function t(e,n){var r;e||(e={});if(n)for(r in n)if(n.hasOwnProperty(r)){var o=e.hasOwnProperty(r),i=typeof n[r],a=!o||typeof e[r]!==i;a?e[r]=n[r]:"object"===i&&(e[r]=t(e[r],n[r]))}return e}},function(t,e){function n(t,e,n,r){for(var o=0;o<r;++o)t[e+o]=t[n+o]}function r(t,e,n,r){for(var o=0;o<r;++o){var i=t[e+o];t[e+o]=t[n+o],t[n+o]=i}}t.exports=function(t){return{createProgram:function(n,r){var o=t.createProgram(),i=e(n,t.VERTEX_SHADER),a=e(r,t.FRAGMENT_SHADER);if(t.attachShader(o,i),t.attachShader(o,a),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS)){var u=t.getShaderInfoLog(o);throw window.alert(u),u}return o},extendArray:function(t,e,n){if((e+1)*n>t.length){var r=new Float32Array(t.length*n*2);return r.set(t),r}return t},copyArrayPart:n,swapArrayPart:r,getLocations:function(e,n){for(var r={},o=0;o<n.length;++o){var i=n[o],a=-1;if("a"===i[0]&&"_"===i[1]){if(-1===(a=t.getAttribLocation(e,i)))throw new Error("Program doesn't have required attribute: "+i);r[i.slice(2)]=a}else{if("u"!==i[0]||"_"!==i[1])throw new Error("Couldn't figure out your intent. All uniforms should start with 'u_' prefix, and attributes with 'a_'");if(null===(a=t.getUniformLocation(e,i)))throw new Error("Program doesn't have required uniform: "+i);r[i.slice(2)]=a}}return r},context:t};function e(e,n){var r=t.createShader(n);if(t.shaderSource(r,e),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS)){var o=t.getShaderInfoLog(r);throw window.alert(o),o}return r}}},function(t,e,n){t.exports=function(t){void 0===(t=t||{}).uniqueLinkId&&(t.uniqueLinkId=!0);var e="function"==typeof Object.create?Object.create(null):{},n=[],u={},f=0,s=0,c=Object.keys?T:I,d=t.uniqueLinkId?function(t,e,n){var r=t.toString()+"ðŸ‘‰ "+e.toString(),o=u.hasOwnProperty(r);(o||k(t,e))&&(o||(u[r]=0),r+="@"+ ++u[r]);return new a(t,e,n,r)}:function(t,e,n){var r=t.toString()+e.toString();return new a(t,e,n,r)},l=[],p=_,v=_,h=_,m=_,y={addNode:b,addLink:function(t,e,r){h();var o=E(t)||b(t),i=E(e)||b(e),a=d(t,e,r);n.push(a),o.links.push(a),t!==e&&i.links.push(a);return p(a,"add"),m(),a},removeLink:N,removeNode:L,getNode:E,getNodesCount:function(){return f},getLinksCount:function(){return n.length},getLinks:function(t){var e=E(t);return e?e.links:null},forEachNode:c,forEachLinkedNode:function(t,n,r){var o=E(t);if(o&&o.links&&"function"==typeof n)return r?function(t,n,r){for(var o=0;o<t.length;++o){var i=t[o];if(i.fromId===n&&r(e[i.toId],i))return!0}}(o.links,t,n):function(t,n,r){for(var o=0;o<t.length;++o){var i=t[o],a=i.fromId===n?i.toId:i.fromId;if(r(e[a],i))return!0}}(o.links,t,n)},forEachLink:function(t){var e,r;if("function"==typeof t)for(e=0,r=n.length;e<r;++e)t(n[e])},beginUpdate:h,endUpdate:m,clear:function(){h(),c(function(t){L(t.id)}),m()},hasLink:k,getLink:k};return r(y),g=y.on,y.on=function(){return y.beginUpdate=h=P,y.endUpdate=m=A,p=x,v=w,y.on=g,g.apply(y,arguments)},y;var g;function x(t,e){l.push({link:t,changeType:e})}function w(t,e){l.push({node:t,changeType:e})}function b(t,n){if(void 0===t)throw new Error("Invalid node identifier");h();var r=E(t);return r?v(r,"update"):(r=new i(t),f++,v(r,"add")),r.data=n,e[t]=r,m(),r}function E(t){return e[t]}function L(t){var n=E(t);if(!n)return!1;for(h();n.links.length;){var r=n.links[0];N(r)}return delete e[t],f--,v(n,"remove"),m(),!0}function N(t){if(!t)return!1;var e=o(t,n);if(e<0)return!1;h(),n.splice(e,1);var r=E(t.fromId),i=E(t.toId);return r&&(e=o(t,r.links))>=0&&r.links.splice(e,1),i&&(e=o(t,i.links))>=0&&i.links.splice(e,1),p(t,"remove"),m(),!0}function k(t,e){var n,r=E(t);if(!r)return null;for(n=0;n<r.links.length;++n){var o=r.links[n];if(o.fromId===t&&o.toId===e)return o}return null}function _(){}function P(){s+=1}function A(){0===(s-=1)&&l.length>0&&(y.fire("changed",l),l.length=0)}function T(t){if("function"==typeof t)for(var n=Object.keys(e),r=0;r<n.length;++r)if(t(e[n[r]]))return!0}function I(t){var n;if("function"==typeof t)for(n in e)if(t(e[n]))return!0}};var r=n(0);function o(t,e){if(e.indexOf)return e.indexOf(t);var n,r=e.length;for(n=0;n<r;n+=1)if(e[n]===t)return n;return-1}function i(t){this.id=t,this.links=[],this.data=null}function a(t,e,n,r){this.fromId=t,this.toId=e,this.data=n,this.id=r}},function(t,e,n){t.exports=function(t,e){var n={};return{bindDragNDrop:function(t,o){var i;if(o){var a=e.getNodeUI(t.id);i=r(a),"function"==typeof o.onStart&&i.onStart(o.onStart),"function"==typeof o.onDrag&&i.onDrag(o.onDrag),"function"==typeof o.onStop&&i.onStop(o.onStop),n[t.id]=i}else(i=n[t.id])&&(i.release(),delete n[t.id])}}};var r=n(6)},function(t,e,n){t.exports=function(t){var e,n,a,u,f,s,c,d=0,l=0,p=!1,v=0,h=function(t,e,r){n&&n(t,{x:e-d,y:r-l}),d=e,l=r},m=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},y=function(t){t.preventDefault&&t.preventDefault()},g=function(t){return m(t),!1},x=function(t){t=t||window.event,h(t,t.clientX,t.clientY)},w=function(t){if(t=t||window.event,p)return m(t),!1;var n=1===t.button&&null!==window.event||0===t.button;return n?(d=t.clientX,l=t.clientY,c=t.target||t.srcElement,e&&e(t,{x:d,y:l}),r.on("mousemove",x),r.on("mouseup",b),m(t),f=window.document.onselectstart,s=window.document.ondragstart,window.document.onselectstart=g,c.ondragstart=g,!1):void 0},b=function(t){t=t||window.event,r.off("mousemove",x),r.off("mouseup",b),window.document.onselectstart=f,c.ondragstart=s,c=null,a&&a(t)},E=function(e){if("function"==typeof u){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1;var n,r=function(t){var e=0,n=0;(t=t||window.event).pageX||t.pageY?(e=t.pageX,n=t.pageY):(t.clientX||t.clientY)&&(e=t.clientX+window.document.body.scrollLeft+window.document.documentElement.scrollLeft,n=t.clientY+window.document.body.scrollTop+window.document.documentElement.scrollTop);return[e,n]}(e),o=i(t),a={x:r[0]-o[0],y:r[1]-o[1]};n=e.wheelDelta?e.wheelDelta/360:e.detail/-9,u(e,n,a)}},L=function(e){!u&&e?"webkit"===o.browser?t.addEventListener("mousewheel",E,!1):t.addEventListener("DOMMouseScroll",E,!1):u&&!e&&("webkit"===o.browser?t.removeEventListener("mousewheel",E,!1):t.removeEventListener("DOMMouseScroll",E,!1)),u=e},N=function(t,e){return(t.clientX-e.clientX)*(t.clientX-e.clientX)+(t.clientY-e.clientY)*(t.clientY-e.clientY)},k=function(t){if(1===t.touches.length){m(t);var e=t.touches[0];h(t,e.clientX,e.clientY)}else if(2===t.touches.length){var n=N(t.touches[0],t.touches[1]),r=0;n<v?r=-1:n>v&&(r=1),u(t,r,{x:t.touches[0].clientX,y:t.touches[0].clientY}),v=n,m(t),y(t)}},_=function(t){p=!1,r.off("touchmove",k),r.off("touchend",_),r.off("touchcancel",_),c=null,a&&a(t)},P=function(t){if(1===t.touches.length)return function(t,n){m(t),y(t),d=n.clientX,l=n.clientY,c=t.target||t.srcElement,e&&e(t,{x:d,y:l});p||(p=!0,r.on("touchmove",k),r.on("touchend",_),r.on("touchcancel",_))}(t,t.touches[0]);2===t.touches.length&&(m(t),y(t),v=N(t.touches[0],t.touches[1]))};return t.addEventListener("mousedown",w),t.addEventListener("touchstart",P),{onStart:function(t){return e=t,this},onDrag:function(t){return n=t,this},onStop:function(t){return a=t,this},onScroll:function(t){return L(t),this},release:function(){t.removeEventListener("mousedown",w),t.removeEventListener("touchstart",P),r.off("mousemove",x),r.off("mouseup",b),r.off("touchmove",k),r.off("touchend",_),r.off("touchcancel",_),L(null)}}};var r=n(12),o=n(14),i=n(15)},function(t,e){function n(t,e,n){if(t.hasOwnProperty(n)){if("function"==typeof e[n])return;e[n]=function(r){return void 0!==r?(t[n]=r,e):t[n]}}}t.exports=function(t,e,r){if("[object Array]"===Object.prototype.toString.call(r))for(var o=0;o<r.length;++o)n(t,e,r[o]);else for(var i in t)n(t,e,i)}},function(t,e){t.exports=function(t){var e=10414335;if("string"==typeof t&&t)if(4===t.length&&(t=t.replace(/([^#])/g,"$1$1")),9===t.length)e=parseInt(t.substr(1),16);else{if(7!==t.length)throw'Color expected in hex format with preceding "#". E.g. #00ff00. Got value: '+t;e=parseInt(t.substr(1),16)<<8|255}else"number"==typeof t&&(e=t);return e}},function(t,e,n){t.exports=u,u.compile=n(58);var r=u.compileTemplate=n(60),o=n(61),i="http://www.w3.org/2000/svg",a="http://www.w3.org/1999/xlink";function u(t,e){var n=function(t){var e,n=t;if("string"==typeof t)n=window.document.createElementNS(i,t);else if(t.simplesvg)return t;return n.simplesvg=!0,n.attr=function(t,e){return 2===arguments.length?(null!==e?n.setAttributeNS(null,t,e):n.removeAttributeNS(null,t),n):n.getAttributeNS(null,t)},n.append=function(t){var e=u(t);return n.appendChild(e),e},n.link=function(t){return arguments.length?(n.setAttributeNS(a,"xlink:href",t),n):n.getAttributeNS(a,"xlink:href")},n.text=function(t){return void 0!==t?(n.textContent=t,n):n.textContent},n.on=function(t,e,r){return o.addEventListener(n,t,e,r),n},n.off=function(t,e,r){return o.removeEventListener(n,t,e,r),n},n.dataSource=function(t){return e||(e=r(n)),e.link(t),n},n}(t);if(void 0===e)return n;for(var f=Object.keys(e),s=0;s<f.length;++s){var c=f[s],d=e[c];"link"===c?n.link(d):n.attr(c,d)}return n}},function(t,e){t.exports=function(t,e,n,r,o,i,a,u){var f,s,c,d,l,p,v,h,m,y,g,x,w={x:0,y:0};if(y=(f=r-e)*a+(c=t-n)*u+(l=n*e-t*r),0!==(m=f*o+c*i+l)&&0!==y&&m>=0==y>=4)return null;if(h=(s=u-i)*n+(d=o-a)*r+(p=a*i-o*u),0!==(v=s*t+d*e+p)&&0!==h&&v>=0==h>=0)return null;if(0==(g=f*d-s*c))return null;return g<0?-g/2:g/2,0,x=c*p-d*l,w.x=(x<0?x-0:x+0)/g,x=s*l-f*p,w.y=(x<0?x-0:x+0)/g,w}},function(t,e,n){var r=n(12);t.exports=function(t){if(t.webglInputEvents)return t.webglInputEvents;var e,n,o=null,i=[],a=[],u=[],f=[],s=[],c=[],d=[];!function(t){var l={x:0,y:0},p=null,g=1,x=+new Date,w=function(t){y(s,[p,t]),l.x=t.clientX,l.y=t.clientY},b=function(){r.off("mousemove",w),r.off("mouseup",b)},E=function(){n=t.getBoundingClientRect()};window.addEventListener("resize",E),E(),t.addEventListener("mousemove",function(t){if(!o){g++%7==0&&(E(),g=1);var e,r=!1;l.x=t.clientX-n.left,l.y=t.clientY-n.top,(e=v(l))&&p!==e?(p=e,r=r||y(i,[p])):null===e&&p!==e&&(r=r||y(a,[p]),p=null),r&&h(t)}}),t.addEventListener("mousedown",function(t){var o,i=!1;E(),l.x=t.clientX-n.left,l.y=t.clientY-n.top,(o=[v(l),t])[0]?(i=y(u,o),r.on("mousemove",w),r.on("mouseup",b),e=window.document.onselectstart,window.document.onselectstart=m,p=o[0]):p=null,i&&h(t)}),t.addEventListener("mouseup",function(t){var r,o=+new Date;l.x=t.clientX-n.left,l.y=t.clientY-n.top;var i=v(l),a=i===p;(r=[i||p,t])[0]&&(window.document.onselectstart=e,y(o-x<400&&a?d:c,r),x=o,y(f,r)&&h(t))})}(t.getGraphicsRoot());var l={mouseEnter:function(t){"function"==typeof t&&i.push(t);return l},mouseLeave:function(t){"function"==typeof t&&a.push(t);return l},mouseDown:function(t){"function"==typeof t&&u.push(t);return l},mouseUp:function(t){"function"==typeof t&&f.push(t);return l},mouseMove:function(t){"function"==typeof t&&s.push(t);return l},click:function(t){"function"==typeof t&&c.push(t);return l},dblClick:function(t){"function"==typeof t&&d.push(t);return l},mouseCapture:function(t){o=t},releaseMouseCapture:function(){o=null}};return t.webglInputEvents=l,l;function p(t,e,n){if(t&&t.size){var r=t.position,o=t.size;return r.x-o<e&&e<r.x+o&&r.y-o<n&&n<r.y+o}return!0}function v(e){return t.getNodeAtClientPos(e,p)}function h(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function m(t){return h(t),!1}function y(t,e){var n;for(n=0;n<t.length;n+=1)if(t[n].apply(void 0,e))return!0}}},function(t,e,n){var r=n(13);function o(t,e){document.addEventListener(t,e)}function i(t,e){document.removeEventListener(t,e)}t.exports=function(){if(void 0===typeof document)return r;return{on:o,off:i}}()},function(t,e){function n(){}t.exports={on:n,off:n,stop:n}},function(t,e){t.exports=function(){if("undefined"==typeof window||!window.hasOwnProperty("navigator"))return{browser:"",version:"0"};var t=window.navigator.userAgent.toLowerCase(),e=/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}}()},function(t,e){t.exports=function(t){var e=0,n=0;if(t.offsetParent)do{e+=t.offsetLeft,n+=t.offsetTop}while(null!==(t=t.offsetParent));return[e,n]}},function(t,e,n){t.exports=function(t,e){var n=r(e),o=null,i={},a={x:0,y:0};return n.mouseDown(function(t,e){o=t,a.x=e.clientX,a.y=e.clientY,n.mouseCapture(o);var r=i[t.id];return r&&r.onStart&&r.onStart(e,a),!0}).mouseUp(function(t){n.releaseMouseCapture(o),o=null;var e=i[t.id];return e&&e.onStop&&e.onStop(),!0}).mouseMove(function(t,e){if(o){var n=i[o.id];return n&&n.onDrag&&n.onDrag(e,{x:e.clientX-a.x,y:e.clientY-a.y}),a.x=e.clientX,a.y=e.clientY,!0}}),{bindDragNDrop:function(t,e){i[t.id]=e,e||delete i[t.id]}}};var r=n(11)},function(t,e,n){(function(e){function n(){}t.exports=function(){var t,r,o=0,i=["ms","moz","webkit","o"];r="undefined"!=typeof window?window:void 0!==e?e:{setTimeout:n,clearTimeout:n};for(t=0;t<i.length&&!r.requestAnimationFrame;++t){var a=i[t];r.requestAnimationFrame=r[a+"RequestAnimationFrame"],r.cancelAnimationFrame=r[a+"CancelAnimationFrame"]||r[a+"CancelRequestAnimationFrame"]}r.requestAnimationFrame||(r.requestAnimationFrame=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-o)),i=r.setTimeout(function(){t(e+n)},n);return o=e+n,i});r.cancelAnimationFrame||(r.cancelAnimationFrame=function(t){r.clearTimeout(t)});return function(t){var e;return n(),{stop:o,restart:function(){e||n()}};function n(){e=r.requestAnimationFrame(n),t()||o()}function o(){r.cancelAnimationFrame(e),e=0}}}()}).call(this,n(41))},function(t,e){t.exports=function(t){if(!t)throw{message:"Cannot get dimensions of undefined container"};var e=t.clientWidth,n=t.clientHeight;return{left:0,top:0,width:e,height:n}}},function(t,e,n){t.exports=function(t,e){if(!t)throw new Error("Graph structure cannot be undefined");var i=n(20)(e),a=Object.create(null),u={},f=0,s=i.settings.springTransform||o;f=0,t.forEachNode(function(t){p(t.id),f+=1}),t.forEachLink(h),t.on("changed",l);var c=!1,d={step:function(){if(0===f)return!0;var t=i.step();d.lastMove=t,d.fire("step");var e,n=t/f,r=n<=.01;return c!==r&&(c=r,e=r,d.fire("stable",e)),r},getNodePosition:function(t){return g(t).pos},setNodePosition:function(t){var e=g(t);e.setPosition.apply(e,Array.prototype.slice.call(arguments,1))},getLinkPosition:function(t){var e=u[t];if(e)return{from:e.from.pos,to:e.to.pos}},getGraphRect:function(){return i.getBBox()},forEachBody:function(t){Object.keys(a).forEach(function(e){t(a[e],e)})},pinNode:function(t,e){var n=g(t.id);n.isPinned=!!e},isNodePinned:function(t){return g(t.id).isPinned},dispose:function(){t.off("changed",l),d.fire("disposed")},getBody:function(t){return a[t]},getSpring:function(e,n){var r;if(void 0===n)r="object"!=typeof e?e:e.id;else{var o=t.hasLink(e,n);if(!o)return;r=o.id}return u[r]},simulator:i,graph:t,lastMove:0};return r(d),d;function l(e){for(var n=0;n<e.length;++n){var r=e[n];"add"===r.changeType?(r.node&&p(r.node.id),r.link&&h(r.link)):"remove"===r.changeType&&(r.node&&v(r.node),r.link&&m(r.link))}f=t.getNodesCount()}function p(e){var n=a[e];if(!n){var r=t.getNode(e);if(!r)throw new Error("initBody() was called with unknown node id");var o=r.position;if(!o){var u=function(t){var e=[];if(!t.links)return e;for(var n=Math.min(t.links.length,2),r=0;r<n;++r){var o=t.links[r],i=o.fromId!==t.id?a[o.fromId]:a[o.toId];i&&i.pos&&e.push(i)}return e}(r);o=i.getBestNewBodyPosition(u)}(n=i.addBodyAt(o)).id=e,a[e]=n,y(e),function(t){return t&&(t.isPinned||t.data&&t.data.isPinned)}(r)&&(n.isPinned=!0)}}function v(t){var e=t.id,n=a[e];n&&(a[e]=null,delete a[e],i.removeBody(n))}function h(t){y(t.fromId),y(t.toId);var e=a[t.fromId],n=a[t.toId],r=i.addSpring(e,n,t.length);s(t,r),u[t.id]=r}function m(e){var n=u[e.id];if(n){var r=t.getNode(e.fromId),o=t.getNode(e.toId);r&&y(r.id),o&&y(o.id),delete u[e.id],i.removeSpring(n)}}function y(e){var n=a[e];n.mass=function(e){var n=t.getLinks(e);return n?1+n.length/3:1}(e)}function g(t){var e=a[t];return e||(p(t),e=a[t]),e}},t.exports.simulator=n(20);var r=n(0);function o(){}},function(t,e,n){t.exports=function(t){var e=n(43),r=n(7),o=n(2),i=n(0),a=(t=o(t,{springLength:30,springCoeff:8e-4,gravity:-1.2,theta:.8,dragCoeff:.02,timeStep:20})).createQuadTree||n(44),u=t.createBounds||n(48),f=t.createDragForce||n(49),s=t.createSpringForce||n(50),c=t.integrator||n(51),d=t.createBody||n(52),l=[],p=[],v=a(t),h=u(l,t),m=s(t),y=f(t),g={bodies:l,quadTree:v,springs:p,settings:t,step:function(){!function(){var t,e=l.length;if(e)for(v.insertBodies(l);e--;)(t=l[e]).isPinned||(t.force.reset(),v.updateBodyForce(t),y.update(t));e=p.length;for(;e--;)m.update(p[e])}();var e=c(l,t.timeStep);return h.update(),e},addBody:function(t){if(!t)throw new Error("Body is required");return l.push(t),t},addBodyAt:function(t){if(!t)throw new Error("Body position is required");var e=d(t);return l.push(e),e},removeBody:function(t){if(t){var e=l.indexOf(t);if(!(e<0))return l.splice(e,1),0===l.length&&h.reset(),!0}},addSpring:function(t,n,r,o,i){if(!t||!n)throw new Error("Cannot add null spring to force simulator");"number"!=typeof r&&(r=-1);var a=new e(t,n,r,i>=0?i:-1,o);return p.push(a),a},getTotalMovement:function(){return 0},removeSpring:function(t){if(t){var e=p.indexOf(t);return e>-1?(p.splice(e,1),!0):void 0}},getBestNewBodyPosition:function(t){return h.getBestNewPosition(t)},getBBox:function(){return h.box},gravity:function(e){return void 0!==e?(t.gravity=e,v.options({gravity:e}),this):t.gravity},theta:function(e){return void 0!==e?(t.theta=e,v.options({theta:e}),this):t.theta}};return r(t,g),i(g),g}},function(t,e){t.exports=function(t,e,n,r){this.x1=t||0,this.y1=e||0,this.x2=n||0,this.y2=r||0}},function(t,e){t.exports=function(t){this.canvas=window.document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.isDirty=!1,this.canvas.width=this.canvas.height=t}},function(t,e,n){var r=n(22);t.exports=function(t){var e,n=Math.sqrt(t||1024)<<0,o=n,i=1,a={},u=0,f=[],s=[];if(c=t,0!=(c&c-1))throw"Tiles per texture should be power of two.";var c;var d={isDirty:!1,clearDirty:function(){var t;for(d.isDirty=!1,t=0;t<f.length;++t)f[t].isDirty=!1},remove:function(t){var e=a[t];if(!e)return!1;if(delete a[t],(i-=1)===e.offset)return!0;var n=l(e.offset);return r=l(i),u=n,c=f[r.textureNumber].canvas,d=f[u.textureNumber].ctx,p=u.col*o,h=u.row*o,d.drawImage(c,r.col*o,r.row*o,o,o,p,h,o,o),f[r.textureNumber].isDirty=!0,f[u.textureNumber].isDirty=!0,a[s[i]].offset=e.offset,s[e.offset]=s[i],v(),!0;var r,u,c,d,p,h},getTextures:function(){return f},getCoordinates:function(t){return a[t]},load:function(t,e){if(a.hasOwnProperty(t))e(a[t]);else{var u=new window.Image,c=i;i+=1,u.crossOrigin="anonymous",u.onload=function(){v(),function(t,e,i){var u=l(t),c={offset:t};u.textureNumber>=f.length&&(d=new r(n*o),f.push(d));var d;var p=f[u.textureNumber];p.ctx.drawImage(e,u.col*o,u.row*o,o,o),s[t]=e.src,a[e.src]=c,p.isDirty=!0,i(c)}(c,u,e)},u.src=t}}};return d;function l(e){var r=e/t<<0,o=e%t,i=o/n<<0,a=o%n;return{textureNumber:r,row:i,col:a}}function p(){d.isDirty=!0,u=0,e=null}function v(){e&&(window.clearTimeout(e),u+=1,e=null),u>10?p():e=window.setTimeout(p,400)}}},function(t,e,n){var r=n(3);t.exports=function(){var t,e,n,o,i,a,u,f,s,c,d=2*(2*Float32Array.BYTES_PER_ELEMENT+Uint32Array.BYTES_PER_ELEMENT),l=["precision mediump float;","varying vec4 color;","void main(void) {","   gl_FragColor = color;","}"].join("\n"),p=["attribute vec2 a_vertexPos;","attribute vec4 a_color;","uniform vec2 u_screenSize;","uniform mat4 u_transform;","varying vec4 color;","void main(void) {","   gl_Position = u_transform * vec4(a_vertexPos/u_screenSize, 0.0, 1.0);","   color = a_color.abgr;","}"].join("\n"),v=0,h=new ArrayBuffer(16*d),m=new Float32Array(h),y=new Uint32Array(h);return{load:function(a){e=a,o=r(a),t=o.createProgram(p,l),e.useProgram(t),i=o.getLocations(t,["a_vertexPos","a_color","u_screenSize","u_transform"]),e.enableVertexAttribArray(i.vertexPos),e.enableVertexAttribArray(i.color),n=e.createBuffer()},position:function(t,e,n){var r=t.id,o=6*r;m[o]=e.x,m[o+1]=e.y,y[o+2]=t.color,m[o+3]=n.x,m[o+4]=n.y,y[o+5]=t.color},createLink:function(t){!function(){if((v+1)*d>h.byteLength){var t=new ArrayBuffer(2*h.byteLength),e=new Float32Array(t),n=new Uint32Array(t);n.set(y),m=e,y=n,h=t}}(),v+=1,a=t.id},removeLink:function(t){v>0&&(v-=1),t.id<v&&v>0&&o.copyArrayPart(y,6*t.id,6*v,6)},updateTransform:function(t){c=!0,s=t},updateSize:function(t,e){u=t,f=e,c=!0},render:function(){e.useProgram(t),e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,h,e.DYNAMIC_DRAW),c&&(c=!1,e.uniformMatrix4fv(i.transform,!1,s),e.uniform2f(i.screenSize,u,f)),e.vertexAttribPointer(i.vertexPos,2,e.FLOAT,!1,3*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(i.color,4,e.UNSIGNED_BYTE,!0,3*Float32Array.BYTES_PER_ELEMENT,8),e.drawArrays(e.LINES,0,2*v),a=v-1},bringToFront:function(t){a>t.id&&o.swapArrayPart(m,6*t.id,6*a,6),a>0&&(a-=1)},getFrontLinkId:function(){return a}}}},function(t,e,n){var r=n(3);t.exports=function(){var t,e,n,o,i,a,u,f,s,c=4,d=3*Float32Array.BYTES_PER_ELEMENT+Uint32Array.BYTES_PER_ELEMENT,l=["precision mediump float;","varying vec4 color;","void main(void) {","   gl_FragColor = color;","}"].join("\n"),p=["attribute vec3 a_vertexPos;","attribute vec4 a_color;","uniform vec2 u_screenSize;","uniform mat4 u_transform;","varying vec4 color;","void main(void) {","   gl_Position = u_transform * vec4(a_vertexPos.xy/u_screenSize, 0, 1);","   gl_PointSize = a_vertexPos.z * u_transform[0][0];","   color = a_color.abgr;","}"].join("\n"),v=new ArrayBuffer(16*d),h=new Float32Array(v),m=new Uint32Array(v),y=0;return{load:function(a){e=a,i=r(a),t=i.createProgram(p,l),e.useProgram(t),o=i.getLocations(t,["a_vertexPos","a_color","u_screenSize","u_transform"]),e.enableVertexAttribArray(o.vertexPos),e.enableVertexAttribArray(o.color),n=e.createBuffer()},position:function(t,e){var n=t.id;h[n*c]=e.x,h[n*c+1]=-e.y,h[n*c+2]=t.size,m[n*c+3]=t.color},updateTransform:function(t){s=!0,f=t},updateSize:function(t,e){a=t,u=e,s=!0},removeNode:function(t){y>0&&(y-=1);t.id<y&&y>0&&i.copyArrayPart(m,t.id*c,y*c,c)},createNode:function(){(function(){if((y+1)*d>=v.byteLength){var t=new ArrayBuffer(2*v.byteLength),e=new Float32Array(t),n=new Uint32Array(t);n.set(m),h=e,m=n,v=t}})(),y+=1},replaceProperties:function(){},render:function(){e.useProgram(t),e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,v,e.DYNAMIC_DRAW),s&&(s=!1,e.uniformMatrix4fv(o.transform,!1,f),e.uniform2f(o.screenSize,a,u));e.vertexAttribPointer(o.vertexPos,3,e.FLOAT,!1,c*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(o.color,4,e.UNSIGNED_BYTE,!0,c*Float32Array.BYTES_PER_ELEMENT,12),e.drawArrays(e.POINTS,0,y)}}}},function(t,e,n){var r=n(8);t.exports=function(t){return{color:r(t)}}},function(t,e,n){var r=n(8);t.exports=function(t,e){return{size:"number"==typeof t?t:10,color:r(e)}}},function(t,e,n){t.exports=function(){var t,e,n,a=0,u=0,f=1,s={},c={},d=function(t){return r("rect").attr("width",10).attr("height",10).attr("fill","#00a2e8")},l=function(t,e){t.attr("x",e.x-5).attr("y",e.y-5)},p=function(t){return r("line").attr("stroke","#999")},v=function(t,e,n){t.attr("x1",e.x).attr("y1",e.y).attr("x2",n.x).attr("y2",n.y)},h=function(t){t.fire("rescaled")},m={x:0,y:0},y={x:0,y:0},g={x:0,y:0},x=function(){if(t){var e="matrix("+f+", 0, 0,"+f+","+a+","+u+")";t.attr("transform",e)}};e=function(){var e=r("svg");return t=r("g").attr("buffered-rendering","dynamic"),e.appendChild(t),e}();var w={getNodeUI:function(t){return s[t]},getLinkUI:function(t){return c[t]},node:function(t){if("function"==typeof t)return d=t,this},link:function(t){if("function"==typeof t)return p=t,this},placeNode:function(t){return l=t,this},placeLink:function(t){return v=t,this},beginRender:function(){},endRender:function(){},graphCenterChanged:function(t,e){a=t,u=e,x()},inputManager:i,translateRel:function(n,r){var o=e.createSVGPoint(),i=t.getCTM(),a=e.createSVGPoint().matrixTransform(i.inverse());o.x=n,o.y=r,(o=o.matrixTransform(i.inverse())).x=(o.x-a.x)*i.a,o.y=(o.y-a.y)*i.d,i.e+=o.x,i.f+=o.y;var u="matrix("+i.a+", 0, 0,"+i.d+","+i.e+","+i.f+")";t.attr("transform",u)},scale:function(n,r){var o=e.createSVGPoint();o.x=r.x,o.y=r.y,o=o.matrixTransform(t.getCTM().inverse());var i=e.createSVGMatrix().translate(o.x,o.y).scale(n).translate(-o.x,-o.y),s=t.getCTM().multiply(i);f=s.a,a=s.e,u=s.f;var c="matrix("+s.a+", 0, 0,"+s.d+","+s.e+","+s.f+")";return t.attr("transform",c),h(this),f},resetScale:function(){f=1;return t.attr("transform","matrix(1, 0, 0, 1, 0, 0)"),h(this),this},init:function(t){t.appendChild(e),x(),"function"==typeof n&&n(e)},release:function(t){e&&t&&t.removeChild(e)},addLink:function(e,n){var r=p(e);if(r)return r.position=n,r.link=e,c[e.id]=r,t.childElementCount>0?t.insertBefore(r,t.firstChild):t.appendChild(r),r},releaseLink:function(e){var n=c[e.id];n&&(t.removeChild(n),delete c[e.id])},addNode:function(e,n){var r=d(e);if(r)return r.position=n,r.node=e,s[e.id]=r,t.appendChild(r),r},releaseNode:function(e){var n=s[e.id];n&&(t.removeChild(n),delete s[e.id])},renderNodes:function(){for(var t in s)if(s.hasOwnProperty(t)){var e=s[t];m.x=e.position.x,m.y=e.position.y,l(e,m,e.node)}},renderLinks:function(){for(var t in c)if(c.hasOwnProperty(t)){var e=c[t];y.x=e.position.from.x,y.y=e.position.from.y,g.x=e.position.to.x,g.y=e.position.to.y,v(e,y,g,e.link)}},getGraphicsRoot:function(t){return"function"==typeof t&&(e?t(e):n=t),e},getSvgRoot:function(){return e}};return o(w),w};var r=n(9),o=n(0),i=n(5)},function(t,e,n){const r=n(30);var o=48,i=16,a=5;const u={Renderer:null,Layout:null,Geom:r.Graph.geom(),Graph:r.Graph.graph(),Graphics:r.Graph.View.svgGraphics().node(function(t){let e=r.Graph.svg("g"),n=t.id;return e.attr("data-nodeId",n),e.attr("class","node "+t.data.type),svgText=r.Graph.svg("text").attr("text-anchor","middle").attr("y","+"+(o+i)+"px").text(t.data.label),img=r.Graph.svg("image").attr("width",o).attr("height",o).attr("x",o/2*-1+"px").link(t.data.icon),e.append(svgText),e.append(img),e}).placeNode(function(t,e){t.attr("transform","translate("+(e.x-o/2)+","+(e.y-o/2)+")")}).link(function(t){let e=r.Graph.svg("g");e.attr("id",t.data.id);var n=r.Graph.svg("path").attr("countId",t.data.count).attr("stroke","gray").attr("id",t.data.id+"_1"),o=r.Graph.svg("path").attr("countId",t.data.count).attr("stroke","gray").attr("id",t.data.id+"_2"),i=r.Graph.svg("path").attr("countId",t.data.count).attr("stroke","gray").attr("marker-end","url(#Triangle)").attr("id",t.data.id+"_3");if(e.append(n),e.append(o),e.append(i),t.data.hasOwnProperty("label")){var a=r.Graph.svg("text").attr("id","label_"+t.data.id).attr("fill","grey").text(t.data.label),u=r.Graph.svg("rect").attr("id","background_label_"+t.data.id).attr("fill","white").attr("stroke","white");e.append(u),e.append(a)}return e}).placeLink(function(t,e,n){var r=t.childNodes[0].getAttribute("countId");t.childNodes[1].getAttribute("countId"),t.childNodes[2].getAttribute("countId");e.x=e.x-o/2,n.x=n.x-o/2;var l=o,p=o,v=u.Geom.intersectRect(e.x-p/2-a,e.y-p/2-a,e.x+p/2+a,e.y+p/2+i+a,e.x,e.y,n.x,n.y)||e,h=u.Geom.intersectRect(n.x-l/2-a,n.y-l/2-a,n.x+l/2+a,n.y+l/2+i+a,n.x,n.y,e.x,e.y)||n;let m=Math.atan2(h.y-v.y,h.x-v.x),y=(Math.PI,Math.pow(Math.pow(h.x-v.x,2)+Math.pow(h.y-v.y,2),.5),function(t,e){let n=s(t,e),r=c(t,e),o=[];return o.push({start:t,end:d(t,r,.1,n)}),o.push({start:o[0].end,end:d(o[0].end,r,.8,n)}),o.push({start:o[1].end,end:d(o[1].end,r,.1,n)}),o}(v,h));if(r>0){let e=function(t,e,n){let r=s(t.start,e),o=Math.PI/2+r,i=c(t.start,e),a=n,u=[];var f=parseInt(n);n%2==0?f/=2:f=(f+1)/2;return u.push({start:{x:t.start.x,y:t.start.y},end:{x:t.end.x+Math.pow(-1,a)*(20*f)*Math.cos(o),y:t.end.y+Math.pow(-1,a)*(20*f)*Math.sin(o)}}),u.push({start:{x:u[0].end.x,y:u[0].end.y},end:{x:u[0].end.x+.8*i*Math.cos(r),y:u[0].end.y+.8*i*Math.sin(r)}}),u.push({start:u[1].end,end:{x:e.x,y:e.y}}),u}(y[0],y[2].end,r);t.childNodes[0].attr("d",f(e[0])),t.childNodes[1].attr("d",f(e[1])),t.childNodes[2].attr("d",f(e[2]));var g=document.getElementById("label_"+t.attr("id"));if(null!=g){var x=g.getBBox();g.attr("x",(e[1].start.x+e[1].end.x)/2-x.width/2),g.attr("y",(e[1].start.y+e[1].end.y)/2+4);var w=document.getElementById("background_label_"+t.attr("id"));w.attr("width",x.width+4),w.attr("height",x.height+2),w.attr("x",x.x-1),w.attr("y",x.y-2)}}else{t.childNodes[0].attr("d",f(y[0])),t.childNodes[1].attr("d",f(y[1])),t.childNodes[2].attr("d",f(y[2]));var g=document.getElementById("label_"+t.attr("id"));if(null!=g){var x=g.getBBox();g.attr("x",(y[1].start.x+y[1].end.x)/2-x.width/2),g.attr("y",(y[1].start.y+y[1].end.y)/2+4);var w=document.getElementById("background_label_"+t.attr("id"));w.attr("width",x.width+4),w.attr("height",x.height+2),w.attr("x",x.x-1),w.attr("y",x.y-2)}}}),init:t=>{u.Layout=r.Graph.Layout.forceDirected(u.Graph,{springLength:200,springCoeff:4e-4,dragCoeff:.03,gravity:-1.9}),u.Renderer=r.Graph.View.renderer(u.Graph,{layout:u.Layout,graphics:u.Graphics,container:document.getElementById(t)}),u.Renderer.run()},addNode:t=>{u.Graph.beginUpdate(),u.Graph.addNode(t.id,t.data),u.Graph.endUpdate()},addLink:(t,e,n)=>{u.Graph.beginUpdate(),u.Graph.addLink(t.id,e.id,{id:n.id,label:n.label,count:n.count}),u.Graph.endUpdate()},loadFromJson:t=>{let e=r.Graph.serializer().loadFromJSON(t);e.forEachNode(t=>{u.addNode(t)}),e.forEachLink(t=>{u.graph.addLink(t.fromId,t.toId,t.data)})}};function f(t){return"M"+t.start.x+","+t.start.y+"L"+t.end.x+","+t.end.y}function s(t,e){return Math.atan2(e.y-t.y,e.x-t.x)}function c(t,e){return Math.pow(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2),.5)}function d(t,e,n,r){return{x:t.x+e*n*Math.cos(r),y:t.y+e*n*Math.sin(r)}}window.linksys=u,t.exports=u},function(t,e,n){var r=n(1),o={lazyExtend:function(){return n(2).apply(this,arguments)},randomIterator:function(){return r.randomIterator.apply(r,arguments)},random:function(){return r.random.apply(r,arguments)},events:n(0)};o.Graph={version:n(31),graph:n(4),serializer:function(){return{loadFromJSON:n(32),storeToJSON:n(33)}},centrality:n(34),operations:n(38),geom:function(){return{intersect:n(10),intersectRect:n(39)}},webgl:n(3),webglInputEvents:n(11),generator:function(){return n(40)},Input:{domInputManager:n(5),webglInputManager:n(16)},Utils:{dragndrop:n(6),findElementPosition:n(15),timer:n(17),getDimension:n(18),events:n(42)},Layout:{forceDirected:n(19),constant:n(54)},View:{Texture:n(22),webglAtlas:n(23),webglImageNodeProgram:n(55),webglLinkProgram:n(24),webglNodeProgram:n(25),webglLine:n(26),webglSquare:n(27),webglImage:n(56),webglGraphics:n(57),_webglUtil:{parseColor:n(8)},svgGraphics:n(28),renderer:n(62),cssGraphics:function(){throw new Error("cssGraphics is deprecated. Please use older version of vivagraph (< 0.7) if you need it")},svgNodeFactory:function(){throw new Error("svgNodeFactory is deprecated. Please use older version of vivagraph (< 0.7) if you need it")},community:function(){throw new Error("community is deprecated. Please use vivagraph < 0.7 if you need it, or `https://github.com/anvaka/ngraph.slpa` module")}},Rect:n(21),svg:n(9),BrowserInfo:n(14)},t.exports=o},function(t,e){t.exports="0.8.1"},function(t,e,n){t.exports=function(t,e,n){var i;e=e||o,n=n||o,i="string"==typeof t?JSON.parse(t):t;var a,u=r();if(void 0===i.links||void 0===i.nodes)throw new Error("Cannot load graph without links and nodes");for(a=0;a<i.nodes.length;++a){var f=e(i.nodes[a]);if(!f.hasOwnProperty("id"))throw new Error("Graph node format is invalid: Node id is missing");u.addNode(f.id,f.data)}for(a=0;a<i.links.length;++a){var s=n(i.links[a]);if(!s.hasOwnProperty("fromId")||!s.hasOwnProperty("toId"))throw new Error("Graph link format is invalid. Both fromId and toId are required");u.addLink(s.fromId,s.toId,s.data)}return u};var r=n(4);function o(t){return t}},function(t,e){t.exports=function(t,e,n){var r={nodes:[],links:[]},o=e||function(t){var e={id:t.id};void 0!==t.data&&(e.data=t.data);return e},i=n||function(t){var e={fromId:t.fromId,toId:t.toId};void 0!==t.data&&(e.data=t.data);return e};return t.forEachNode(function(t){r.nodes.push(o(t))}),t.forEachLink(function(t){r.links.push(i(t))}),JSON.stringify(r)}},function(t,e,n){var r=n(35);function o(t){return a(r.betweenness(t))}function i(t,e){return a(r.degree(t,e))}function a(t){return Object.keys(t).sort(function(e,n){return t[n]-t[e]}).map(function(e){return{key:e,value:t[e]}})}t.exports=function(){return{betweennessCentrality:o,degreeCentrality:i}}},function(t,e,n){t.exports.degree=n(36),t.exports.betweenness=n(37)},function(t,e){function n(t,e){for(var n=0,r=0;r<t.length;r+=1)n+=t[r].toId===e?1:0;return n}function r(t,e){for(var n=0,r=0;r<t.length;r+=1)n+=t[r].fromId===e?1:0;return n}function o(t){return t.length}t.exports=function(t,e){var i,a=Object.create(null);if("both"===(e=(e||"both").toLowerCase())||"inout"===e)i=o;else if("in"===e)i=n;else{if("out"!==e)throw new Error("Expected centrality degree kind is: in, out or both");i=r}return t.forEachNode(function(e){var n=t.getLinks(e.id);a[e.id]=i(n,e.id)}),a}},function(t,e){t.exports=function(t,e){var n,r=[],o=[],i=Object.create(null),a=Object.create(null),u=Object.create(null),f=Object.create(null),s=Object.create(null);t.forEachNode(function(t){s[t.id]=0}),t.forEachNode(function(d){(function(n){for(t.forEachNode(function(t){var e=t.id;i[e]=[],a[e]=-1,u[e]=0}),a[n]=0,u[n]=1,r.push(n);r.length;){var f=r.shift();Object.create(null),o.push(f),t.forEachLinkedNode(f,s,e)}function s(t){var e;e=t.id,-1===a[e]&&(a[e]=a[f]+1,r.push(e)),a[e]===a[f]+1&&(u[e]+=u[f],i[e].push(f))}})(n=d.id),function(){for(t.forEachNode(c);o.length;){for(var e=o.pop(),r=(1+f[e])/u[e],a=i[e],d=0;d<a.length;++d){var l=a[d];f[l]+=u[l]*r}e!==n&&(s[e]+=f[e])}}()}),e||Object.keys(s).forEach(function(t){s[t]/=2});return s;function c(t){f[t.id]=0}}},function(t,e){t.exports=function(){return{density:function(t,e){var n=t.getNodesCount();return 0===n?NaN:e?t.getLinksCount()/(n*(n-1)):2*t.getLinksCount()/(n*(n-1))}}}},function(t,e,n){var r=n(10);t.exports=function(t,e,n,o,i,a,u,f){return r(t,e,t,o,i,a,u,f)||r(t,o,n,o,i,a,u,f)||r(n,o,n,e,i,a,u,f)||r(n,e,t,e,i,a,u,f)}},function(t,e,n){t.exports={ladder:o,complete:function(t){if(!t||t<1)throw new Error("At least two nodes are expected for complete graph");var e,n,o=r();for(e=0;e<t;++e)for(n=e+1;n<t;++n)e!==n&&o.addLink(e,n);return o},completeBipartite:function(t,e){if(!t||!e||t<0||e<0)throw new Error("Graph dimensions are invalid. Number of nodes in each partition should be greater than 0");var n,o,i=r();for(n=0;n<t;++n)for(o=t;o<t+e;++o)i.addLink(n,o);return i},balancedBinTree:function(t){if(t<0)throw new Error("Invalid number of nodes in balanced tree");var e,n=r(),o=Math.pow(2,t);0===t&&n.addNode(1);for(e=1;e<o;++e){var i=e,a=2*i,u=2*i+1;n.addLink(i,a),n.addLink(i,u)}return n},path:function(t){if(!t||t<0)throw new Error("Invalid number of nodes");var e,n=r();for(n.addNode(0),e=1;e<t;++e)n.addLink(e-1,e);return n},circularLadder:function(t){if(!t||t<0)throw new Error("Invalid number of nodes");var e=o(t);return e.addLink(0,t-1),e.addLink(t,2*t-1),e},grid:function(t,e){if(t<1||e<1)throw new Error("Invalid number of nodes in grid graph");var n,o,i=r();if(1===t&&1===e)return i.addNode(0),i;for(n=0;n<t;++n)for(o=0;o<e;++o){var a=n+o*t;n>0&&i.addLink(a,n-1+o*t),o>0&&i.addLink(a,n+(o-1)*t)}return i},grid3:function(t,e,n){if(t<1||e<1||n<1)throw new Error("Invalid number of nodes in grid3 graph");var o,i,a,u=r();if(1===t&&1===e&&1===n)return u.addNode(0),u;for(a=0;a<n;++a)for(o=0;o<t;++o)for(i=0;i<e;++i){var f=a*t*e,s=o+i*t+f;o>0&&u.addLink(s,o-1+i*t+f),i>0&&u.addLink(s,o+(i-1)*t+f),a>0&&u.addLink(s,o+i*t+(a-1)*t*e)}return u},noLinks:function(t){if(t<0)throw new Error("Number of nodes shoul be >= 0");var e,n=r();for(e=0;e<t;++e)n.addNode(e);return n},wattsStrogatz:function(t,e,o,i){if(e>=t)throw new Error("Choose smaller `k`. It cannot be larger than number of nodes `n`");var a,u,f=n(1).random(i||42),s=r();for(a=0;a<t;++a)s.addNode(a);for(var c=Math.floor(e/2+1),d=1;d<c;++d)for(a=0;a<t;++a)u=(d+a)%t,s.addLink(a,u);for(d=1;d<c;++d)for(a=0;a<t;++a)if(f.nextDouble()<o){var l=a;u=(d+a)%t;var p=f.next(t),v=p===l||s.hasLink(l,p);if(v&&s.getLinks(l).length===t-1)continue;for(;v;)p=f.next(t),v=p===l||s.hasLink(l,p);var h=s.hasLink(l,u);s.removeLink(h),s.addLink(l,p)}return s}};var r=n(4);function o(t){if(!t||t<0)throw new Error("Invalid number of nodes");var e,n=r();for(e=0;e<t-1;++e)n.addLink(e,e+1),n.addLink(t+e,t+e+1),n.addLink(e,t+e);return n.addLink(t-1,2*t-1),n}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(0);t.exports=function(t){if(console.log("This method is deprecated. Please use Viva.events() instead"),!t)return t;if(void 0!==t.on||void 0!==t.off||void 0!==t.fire)return{extend:function(){return t},on:t.on,stop:t.off};return{extend:function(){var e=r(t);return e.addEventListener=e.on,e},on:t.on,stop:t.off}}},function(t,e){t.exports=function(t,e,n,r,o){this.from=t,this.to=e,this.length=n,this.coeff=r,this.weight="number"==typeof o?o:1}},function(t,e,n){function r(t,e){return 0===e?t.quad0:1===e?t.quad1:2===e?t.quad2:3===e?t.quad3:null}function o(t,e,n){0===e?t.quad0=n:1===e?t.quad1=n:2===e?t.quad2=n:3===e&&(t.quad3=n)}t.exports=function(t){(t=t||{}).gravity="number"==typeof t.gravity?t.gravity:-1,t.theta="number"==typeof t.theta?t.theta:.8;var e=n(1).random(1984),i=n(45),a=n(46),u=n(47),f=t.gravity,s=[],c=new a,d=t.theta,l=[],p=0,v=h();return{insertBodies:function(t){var e,n=Number.MAX_VALUE,r=Number.MAX_VALUE,o=Number.MIN_VALUE,i=Number.MIN_VALUE,a=t.length;e=a;for(;e--;){var u=t[e].pos.x,f=t[e].pos.y;u<n&&(n=u),u>o&&(o=u),f<r&&(r=f),f>i&&(i=f)}var s=o-n,c=i-r;s>c?i=r+s:o=n+c;p=0,(v=h()).left=n,v.right=o,v.top=r,v.bottom=i,(e=a-1)>=0&&(v.body=t[e]);for(;e--;)m(t[e])},getRoot:function(){return v},updateBodyForce:function(t){var n,r,o,i,a=s,u=0,c=0,l=1,p=0,h=1;a[0]=v;for(;l;){var m=a[p],y=m.body;l-=1,p+=1;var g=y!==t;y&&g?(r=y.pos.x-t.pos.x,o=y.pos.y-t.pos.y,0===(i=Math.sqrt(r*r+o*o))&&(r=(e.nextDouble()-.5)/50,o=(e.nextDouble()-.5)/50,i=Math.sqrt(r*r+o*o)),n=f*y.mass*t.mass/(i*i*i),u+=n*r,c+=n*o):g&&(r=m.massX/m.mass-t.pos.x,o=m.massY/m.mass-t.pos.y,0===(i=Math.sqrt(r*r+o*o))&&(r=(e.nextDouble()-.5)/50,o=(e.nextDouble()-.5)/50,i=Math.sqrt(r*r+o*o)),(m.right-m.left)/i<d?(n=f*m.mass*t.mass/(i*i*i),u+=n*r,c+=n*o):(m.quad0&&(a[h]=m.quad0,l+=1,h+=1),m.quad1&&(a[h]=m.quad1,l+=1,h+=1),m.quad2&&(a[h]=m.quad2,l+=1,h+=1),m.quad3&&(a[h]=m.quad3,l+=1,h+=1)))}t.force.x+=u,t.force.y+=c},options:function(t){return t?("number"==typeof t.gravity&&(f=t.gravity),"number"==typeof t.theta&&(d=t.theta),this):{gravity:f,theta:d}}};function h(){var t=l[p];return t?(t.quad0=null,t.quad1=null,t.quad2=null,t.quad3=null,t.body=null,t.mass=t.massX=t.massY=0,t.left=t.right=t.top=t.bottom=0):(t=new i,l[p]=t),++p,t}function m(t){for(c.reset(),c.push(v,t);!c.isEmpty();){var n=c.pop(),i=n.node,a=n.body;if(i.body){var f=i.body;if(i.body=null,u(f.pos,a.pos)){var s=3;do{var d=e.nextDouble(),l=(i.right-i.left)*d,p=(i.bottom-i.top)*d;f.pos.x=i.left+l,f.pos.y=i.top+p,s-=1}while(s>0&&u(f.pos,a.pos));if(0===s&&u(f.pos,a.pos))return}c.push(i,f),c.push(i,a)}else{var m=a.pos.x,y=a.pos.y;i.mass=i.mass+a.mass,i.massX=i.massX+a.mass*m,i.massY=i.massY+a.mass*y;var g=0,x=i.left,w=(i.right+x)/2,b=i.top,E=(i.bottom+b)/2;m>w&&(g+=1,x=w,w=i.right),y>E&&(g+=2,b=E,E=i.bottom);var L=r(i,g);L?c.push(L,a):((L=h()).left=x,L.top=b,L.right=w,L.bottom=E,L.body=a,o(i,g,L))}}}}},function(t,e){t.exports=function(){this.body=null,this.quad0=null,this.quad1=null,this.quad2=null,this.quad3=null,this.mass=0,this.massX=0,this.massY=0,this.left=0,this.top=0,this.bottom=0,this.right=0}},function(t,e){function n(){this.stack=[],this.popIdx=0}function r(t,e){this.node=t,this.body=e}t.exports=n,n.prototype={isEmpty:function(){return 0===this.popIdx},push:function(t,e){var n=this.stack[this.popIdx];n?(n.node=t,n.body=e):this.stack[this.popIdx]=new r(t,e),++this.popIdx},pop:function(){if(this.popIdx>0)return this.stack[--this.popIdx]},reset:function(){this.popIdx=0}}},function(t,e){t.exports=function(t,e){var n=Math.abs(t.x-e.x),r=Math.abs(t.y-e.y);return n<1e-8&&r<1e-8}},function(t,e,n){t.exports=function(t,e){var r=n(1).random(42),o={x1:0,y1:0,x2:0,y2:0};return{box:o,update:function(){var e=t.length;if(0===e)return;var n=Number.MAX_VALUE,r=Number.MAX_VALUE,i=Number.MIN_VALUE,a=Number.MIN_VALUE;for(;e--;){var u=t[e];u.isPinned?(u.pos.x=u.prevPos.x,u.pos.y=u.prevPos.y):(u.prevPos.x=u.pos.x,u.prevPos.y=u.pos.y),u.pos.x<n&&(n=u.pos.x),u.pos.x>i&&(i=u.pos.x),u.pos.y<r&&(r=u.pos.y),u.pos.y>a&&(a=u.pos.y)}o.x1=n,o.x2=i,o.y1=r,o.y2=a},reset:function(){o.x1=o.y1=0,o.x2=o.y2=0},getBestNewPosition:function(t){var n=o,i=0,a=0;if(t.length){for(var u=0;u<t.length;++u)i+=t[u].pos.x,a+=t[u].pos.y;i/=t.length,a/=t.length}else i=(n.x1+n.x2)/2,a=(n.y1+n.y2)/2;var f=e.springLength;return{x:i+r.next(f)-f/2,y:a+r.next(f)-f/2}}}}},function(t,e,n){t.exports=function(t){var e=n(2),r={update:function(e){e.force.x-=t.dragCoeff*e.velocity.x,e.force.y-=t.dragCoeff*e.velocity.y}};return n(7)(t=e(t,{dragCoeff:.02}),r,["dragCoeff"]),r}},function(t,e,n){t.exports=function(t){var e=n(2),r=n(1).random(42),o={update:function(e){var n=e.from,o=e.to,i=e.length<0?t.springLength:e.length,a=o.pos.x-n.pos.x,u=o.pos.y-n.pos.y,f=Math.sqrt(a*a+u*u);0===f&&(a=(r.nextDouble()-.5)/50,u=(r.nextDouble()-.5)/50,f=Math.sqrt(a*a+u*u));var s=f-i,c=(!e.coeff||e.coeff<0?t.springCoeff:e.coeff)*s/f*e.weight;n.force.x+=c*a,n.force.y+=c*u,o.force.x-=c*a,o.force.y-=c*u}};return n(7)(t=e(t,{springCoeff:2e-4,springLength:80}),o,["springCoeff","springLength"]),o}},function(t,e){t.exports=function(t,e){var n,r=0,o=0,i=0,a=0,u=t.length;if(0===u)return 0;for(n=0;n<u;++n){var f=t[n],s=e/f.mass;f.velocity.x+=s*f.force.x,f.velocity.y+=s*f.force.y;var c=f.velocity.x,d=f.velocity.y,l=Math.sqrt(c*c+d*d);l>1&&(f.velocity.x=c/l,f.velocity.y=d/l),r=e*f.velocity.x,i=e*f.velocity.y,f.pos.x+=r,f.pos.y+=i,o+=Math.abs(r),a+=Math.abs(i)}return(o*o+a*a)/u}},function(t,e,n){var r=n(53);t.exports=function(t){return new r.Body(t)}},function(t,e){function n(t,e){this.pos=new r(t,e),this.prevPos=new r(t,e),this.force=new r,this.velocity=new r,this.mass=1}function r(t,e){t&&"number"!=typeof t?(this.x="number"==typeof t.x?t.x:0,this.y="number"==typeof t.y?t.y:0):(this.x="number"==typeof t?t:0,this.y="number"==typeof e?e:0)}function o(t,e,n){this.pos=new i(t,e,n),this.prevPos=new i(t,e,n),this.force=new i,this.velocity=new i,this.mass=1}function i(t,e,n){t&&"number"!=typeof t?(this.x="number"==typeof t.x?t.x:0,this.y="number"==typeof t.y?t.y:0,this.z="number"==typeof t.z?t.z:0):(this.x="number"==typeof t?t:0,this.y="number"==typeof e?e:0,this.z="number"==typeof n?n:0)}t.exports={Body:n,Vector2d:r,Body3d:o,Vector3d:i},n.prototype.setPosition=function(t,e){this.prevPos.x=this.pos.x=t,this.prevPos.y=this.pos.y=e},r.prototype.reset=function(){this.x=this.y=0},o.prototype.setPosition=function(t,e,n){this.prevPos.x=this.pos.x=t,this.prevPos.y=this.pos.y=e,this.prevPos.z=this.pos.z=n},i.prototype.reset=function(){this.x=this.y=this.z=0}},function(t,e,n){t.exports=function(t,e){e=r(e,{maxX:1024,maxY:1024,seed:"Deterministic randomness made me do this"});var n=o(e.seed),a=new i(Number.MAX_VALUE,Number.MAX_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),u={},f=function(t){return{x:n.next(e.maxX),y:n.next(e.maxY)}},s="function"==typeof Object.create?Object.create(null):{},c=function(t){s[t.id]=f(t),function(t,e){t.x<e.x1&&(e.x1=t.x);t.x>e.x2&&(e.x2=t.x);t.y<e.y1&&(e.y1=t.y);t.y>e.y2&&(e.y2=t.y)}(s[t.id],a)},d=function(){0!==t.getNodesCount()&&(a.x1=Number.MAX_VALUE,a.y1=Number.MAX_VALUE,a.x2=Number.MIN_VALUE,a.y2=Number.MIN_VALUE,t.forEachNode(c))},l=function(t){u[t.id]=t},p=function(t){for(var e=0;e<t.length;++e){var n=t[e];n.node&&("add"===n.changeType?c(n.node):delete s[n.node.id]),n.link&&("add"===n.changeType?l(n.link):delete u[n.link.id])}};return t.forEachNode(c),t.forEachLink(l),t.on("changed",p),{run:function(t){this.step()},step:function(){return d(),!0},getGraphRect:function(){return a},dispose:function(){t.off("change",p)},isNodePinned:function(t){return!0},pinNode:function(t,e){},getNodePosition:v,getLinkPosition:function(t){var e=u[t];return{from:v(e.fromId),to:v(e.toId)}},setNodePosition:function(t,e,n){var r=s[t];r&&(r.x=e,r.y=n)},placeNode:function(t){return"function"==typeof t?(f=t,d(),this):f(t)}};function v(t){return s[t]}};var r=n(2),o=n(1).random,i=n(21)},function(t,e,n){var r=n(23),o=n(3);t.exports=function(){var t,e,n,i,a,u,f,s,c,d,l=18,p=["precision mediump float;","varying vec4 color;","varying vec3 vTextureCoord;","uniform sampler2D u_sampler0;","uniform sampler2D u_sampler1;","uniform sampler2D u_sampler2;","uniform sampler2D u_sampler3;","void main(void) {","   if (vTextureCoord.z == 0.) {","     gl_FragColor = texture2D(u_sampler0, vTextureCoord.xy);","   } else if (vTextureCoord.z == 1.) {","     gl_FragColor = texture2D(u_sampler1, vTextureCoord.xy);","   } else if (vTextureCoord.z == 2.) {","     gl_FragColor = texture2D(u_sampler2, vTextureCoord.xy);","   } else if (vTextureCoord.z == 3.) {","     gl_FragColor = texture2D(u_sampler3, vTextureCoord.xy);","   } else { gl_FragColor = vec4(0, 1, 0, 1); }","}"].join("\n"),v=["attribute vec2 a_vertexPos;","attribute float a_customAttributes;","uniform vec2 u_screenSize;","uniform mat4 u_transform;","uniform float u_tilesPerTexture;","varying vec3 vTextureCoord;","void main(void) {","   gl_Position = u_transform * vec4(a_vertexPos/u_screenSize, 0, 1);","float corner = mod(a_customAttributes, 4.);","float tileIndex = mod(floor(a_customAttributes / 4.), u_tilesPerTexture);","float tilesPerRow = sqrt(u_tilesPerTexture);","float tileSize = 1./tilesPerRow;","float tileColumn = mod(tileIndex, tilesPerRow);","float tileRow = floor(tileIndex/tilesPerRow);","if(corner == 0.0) {","  vTextureCoord.xy = vec2(0, 1);","} else if(corner == 1.0) {","  vTextureCoord.xy = vec2(1, 1);","} else if(corner == 2.0) {","  vTextureCoord.xy = vec2(0, 0);","} else {","  vTextureCoord.xy = vec2(1, 0);","}","vTextureCoord *= tileSize;","vTextureCoord.x += tileColumn * tileSize;","vTextureCoord.y += tileRow * tileSize;","vTextureCoord.z = floor(floor(a_customAttributes / 4.)/u_tilesPerTexture);","}"].join("\n"),h=1024,m=0,y=new Float32Array(64);return{load:function(f){n=f,a=o(f),t=new r(h),e=a.createProgram(v,p),n.useProgram(e),u=a.getLocations(e,["a_vertexPos","a_customAttributes","u_screenSize","u_transform","u_sampler0","u_sampler1","u_sampler2","u_sampler3","u_tilesPerTexture"]),n.uniform1f(u.tilesPerTexture,h),n.enableVertexAttribArray(u.vertexPos),n.enableVertexAttribArray(u.customAttributes),i=n.createBuffer()},position:function(t,e){var n=t.id*l;y[n]=e.x-t.size,y[n+1]=e.y-t.size,y[n+2]=4*t._offset,y[n+3]=e.x+t.size,y[n+4]=e.y-t.size,y[n+5]=4*t._offset+1,y[n+6]=e.x-t.size,y[n+7]=e.y+t.size,y[n+8]=4*t._offset+2,y[n+9]=e.x-t.size,y[n+10]=e.y+t.size,y[n+11]=4*t._offset+2,y[n+12]=e.x+t.size,y[n+13]=e.y-t.size,y[n+14]=4*t._offset+1,y[n+15]=e.x+t.size,y[n+16]=e.y+t.size,y[n+17]=4*t._offset+3},createNode:function(e){y=a.extendArray(y,m,l),m+=1;var n=t.getCoordinates(e.src);n?e._offset=n.offset:(e._offset=0,t.load(e.src,function(t){e._offset=t.offset}))},removeNode:function(e){m>0&&(m-=1);e.id<m&&m>0&&(e.src&&t.remove(e.src),a.copyArrayPart(y,e.id*l,m*l,l))},replaceProperties:function(t,e){e._offset=t._offset},updateTransform:function(t){d=!0,c=t},updateSize:function(t,e){f=t,s=e,d=!0},render:function(){n.useProgram(e),n.bindBuffer(n.ARRAY_BUFFER,i),n.bufferData(n.ARRAY_BUFFER,y,n.DYNAMIC_DRAW),d&&(d=!1,n.uniformMatrix4fv(u.transform,!1,c),n.uniform2f(u.screenSize,f,s));n.vertexAttribPointer(u.vertexPos,2,n.FLOAT,!1,3*Float32Array.BYTES_PER_ELEMENT,0),n.vertexAttribPointer(u.customAttributes,1,n.FLOAT,!1,3*Float32Array.BYTES_PER_ELEMENT,8),function(){if(t.isDirty){var e,n=t.getTextures();for(e=0;e<n.length;++e)!n[e].isDirty&&n[e].nativeObject||g(n[e],e);t.clearDirty()}}(),n.drawArrays(n.TRIANGLES,0,6*m)}};function g(t,e){t.nativeObject&&n.deleteTexture(t.nativeObject);var r=n.createTexture();n.activeTexture(n["TEXTURE"+e]),n.bindTexture(n.TEXTURE_2D,r),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,t.canvas),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_NEAREST),n.generateMipmap(n.TEXTURE_2D),n.uniform1i(u["sampler"+e],e),t.nativeObject=r}}},function(t,e){t.exports=function(t,e){return{_texture:0,_offset:0,size:"number"==typeof t?t:32,src:e}}},function(t,e,n){t.exports=function(t){t=s(t,{enableBlending:!0,preserveDrawingBuffer:!1,clearColor:!1,clearColorValue:{r:1,g:1,b:1,a:1}});var e,n,c,d,l,p,v,h,m=0,y=0,g=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],x=[],w=[],b={},E={},L=o(),N=i(),k=function(t){return a()},_=function(t){return u(3014898687)},P=function(){L.updateTransform(g),N.updateTransform(g)},A=function(){g=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},T=function(){e&&n&&(d=n.width=Math.max(e.offsetWidth,1),l=n.height=Math.max(e.offsetHeight,1),c&&c.viewport(0,0,d,l),L&&L.updateSize(d/2,l/2),N&&N.updateSize(d/2,l/2))};n=window.document.createElement("canvas");var I={getLinkUI:function(t){return E[t]},getNodeUI:function(t){return b[t]},node:function(t){if("function"==typeof t)return k=t,this},link:function(t){if("function"==typeof t)return _=t,this},placeNode:function(t){return p=t,this},placeLink:function(t){return v=t,this},inputManager:r,beginRender:function(){},endRender:function(){y>0&&L.render(),m>0&&N.render()},bringLinkToFront:function(t){var e,n,r=L.getFrontLinkId();L.bringToFront(t),r>t.id&&(e=t.id,n=w[r],w[r]=w[e],w[r].id=r,w[e]=n,w[e].id=e)},graphCenterChanged:function(t,e){g[12]=2*t/d-1,g[13]=1-2*e/l,P()},addLink:function(t,e){var n=y++,r=_(t);return r.id=n,r.pos=e,L.createLink(r),w[n]=r,E[t.id]=r,r},addNode:function(t,e){var n=m++,r=k(t);return r.id=n,r.position=e,r.node=t,N.createNode(r),x[n]=r,b[t.id]=r,r},translateRel:function(t,e){g[12]+=2*g[0]*t/d/g[0],g[13]-=2*g[5]*e/l/g[5],P()},scale:function(t,e){var n=2*e.x/d-1,r=1-2*e.y/l;return n-=g[12],r-=g[13],g[12]+=n*(1-t),g[13]+=r*(1-t),g[0]*=t,g[5]*=t,P(),this.fire("rescaled"),g[0]},resetScale:function(){return A(),c&&(T(),P()),this},updateSize:T,init:function(r){var o={};if(t.preserveDrawingBuffer&&(o.preserveDrawingBuffer=!0),e=r,T(),A(),e.appendChild(n),!(c=n.getContext("experimental-webgl",o))){var i="Could not initialize WebGL. Seems like the browser doesn't support it.";throw window.alert(i),i}if(t.enableBlending&&(c.blendFunc(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA),c.enable(c.BLEND)),t.clearColor){var a=t.clearColorValue;c.clearColor(a.r,a.g,a.b,a.a),this.beginRender=function(){c.clear(c.COLOR_BUFFER_BIT)}}L.load(c),L.updateSize(d/2,l/2),N.load(c),N.updateSize(d/2,l/2),P(),"function"==typeof h&&h(n)},release:function(t){n&&t&&t.removeChild(n)},isSupported:function(){var t=window.document.createElement("canvas"),e=t&&t.getContext&&t.getContext("experimental-webgl");return e},releaseLink:function(t){y>0&&(y-=1);var e=E[t.id];delete E[t.id],L.removeLink(e);var n=e.id;if(n<y){if(0===y||y===n)return;var r=w[y];w[n]=r,r.id=n}},releaseNode:function(t){m>0&&(m-=1);var e=b[t.id];delete b[t.id],N.removeNode(e);var n=e.id;if(n<m){if(0===m||m===n)return;var r=x[m];x[n]=r,r.id=n,N.replaceProperties(e,r)}},renderNodes:function(){for(var t={x:0,y:0},e=0;e<m;++e){var n=x[e];t.x=n.position.x,t.y=n.position.y,p&&p(n,t),N.position(n,t)}},renderLinks:function(){if(!this.omitLinksRendering)for(var t={x:0,y:0},e={x:0,y:0},n=0;n<y;++n){var r=w[n],o=r.pos.from;e.x=o.x,e.y=-o.y,o=r.pos.to,t.x=o.x,t.y=-o.y,v&&v(r,e,t),L.position(r,e,t)}},getGraphicsRoot:function(t){return"function"==typeof t&&(n?t(n):h=t),n},setNodeProgram:function(t){if(!c&&t)N=t;else if(t)throw"Not implemented. Cannot swap shader on the fly... Yet."},setLinkProgram:function(t){if(!c&&t)L=t;else if(t)throw"Not implemented. Cannot swap shader on the fly... Yet."},transformClientToGraphCoordinates:function(t){return t.x=2*t.x/d-1,t.y=1-2*t.y/l,t.x=(t.x-g[12])/g[0],t.y=(t.y-g[13])/g[5],t.x=t.x*(d/2),t.y=t.y*(-l/2),t},transformGraphToClientCoordinates:function(t){return t.x=t.x/(d/2),t.y=t.y/(-l/2),t.x=t.x*g[0]+g[12],t.y=t.y*g[5]+g[13],t.x=(t.x+1)*d/2,t.y=(1-t.y)*l/2,t},getNodeAtClientPos:function(t,e){if("function"!=typeof e)return null;this.transformClientToGraphCoordinates(t);for(var n=0;n<m;++n)if(e(x[n],t.x,t.y))return x[n].node;return null}};return f(I),I};var r=n(16),o=n(24),i=n(25),a=n(27),u=n(26),f=n(0),s=n(2)},function(t,e,n){var r=n(59),o=n(9);t.exports=function(t){try{return t=function(t){if(!t)return;var e=t.match(/^<\w+/);if(e){var n=e[0].length;return t.substr(0,n)+' xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" '+t.substr(n)}throw new Error("Cannot parse input text: invalid xml?")}(t),o(r.parseFromString(t,"text/xml").documentElement)}catch(t){throw t}}},function(t,e){function n(){throw new Error("DOMParser is not supported by this platform. Please open issue here https://github.com/anvaka/simplesvg")}t.exports=function(){if("undefined"==typeof DOMParser)return{parseFromString:n};return new DOMParser}()},function(t,e){t.exports=function(t){var e=Object.create(null);return function t(e,o){var i=e.nodeType,a=1===i||3===i;if(a){var u;if(e.hasChildNodes()){var f=e.childNodes;for(u=0;u<f.length;++u)t(f[u],o)}if(3===i&&function(t,e){var r=t.nodeValue;if(r){var o=r.match(n);if(o){var i=o[1],a=(i.indexOf("."),e[i]);a?a.push(u):a=e[i]=[u]}}function u(e){t.nodeValue=e[i]}}(e,o),e.attributes){var s=e.attributes;for(u=0;u<s.length;++u)r(s[u],e,o)}}}(t,e),{link:function(t){function n(e){e(t)}Object.keys(e).forEach(function(t){e[t].forEach(n)})}}};var n=/{{(.+?)}}/;function r(t,e,r){var o=t.value;if(o){var i=o.match(n);if(i){var a=t.localName,u=i[1];if(!(u.indexOf(".")<0))throw new Error("simplesvg currently does not support nested bindings");var f=r[u];f?f.push(s):f=r[u]=[s]}}function s(t){e.setAttributeNS(null,a,t[u])}}},function(t,e){r.removeEventListener=function(t,e,r,f){return(n=n||(document.addEventListener?{add:o,rm:i}:{add:a,rm:u})).rm(t,e,r,f)},r.addEventListener=r,t.exports=r;var n=null;function r(t,e,r,f){return(n=n||(document.addEventListener?{add:o,rm:i}:{add:a,rm:u})).add(t,e,r,f)}function o(t,e,n,r){t.addEventListener(e,n,r)}function i(t,e,n,r){t.removeEventListener(e,n,r)}function a(t,e,n,r){if(r)throw new Error("cannot useCapture in oldIE");t.attachEvent("on"+e,n)}function u(t,e,n,r){t.detachEvent("on"+e,n)}},function(t,e,n){t.exports=function(t,e){var n,d,l,p=30,v=(e=e||{}).layout,h=e.graphics,m=e.container,y=void 0===e.interactive||e.interactive,g=!1,x=!0,w=!1,b=!1,E=!1,L={offsetX:0,offsetY:0,scale:1},N=r({});return{run:function(r){return g||(!function(){m=m||window.document.body,v=v||o(t,{springLength:80,springCoeff:2e-4}),h=h||i(t,{container:m}),e.hasOwnProperty("renderLinks")||(e.renderLinks=!0);e.prerender=e.prerender||0,n=(h.inputManager||u)(t,h)}(),function(){if("number"==typeof e.prerender&&e.prerender>0)for(var t=0;t<e.prerender;t+=1)v.step()}(),h.init(m),t.forEachNode(I),e.renderLinks&&t.forEachLink(S),T(),function(){a.on("resize",z),G(),k("drag")&&(l=c(m)).onDrag(function(t,e){h.translateRel(e.x,e.y),_(),N.fire("drag",e)});k("scroll")&&(l||(l=c(m)),l.onScroll(function(t,e,n){Y(e<0,n)}));t.forEachNode(D),U(),t.on("changed",F)}(),g=!0),function(t){if(d)return;d=f(void 0!==t?function(){if((t-=1)<0){return!1}return P()}:P,p)}(r),this},reset:function(){h.resetScale(),T(),L.scale=1},pause:function(){E=!0,d.stop()},resume:function(){E=!1,d.restart()},rerender:function(){return _(),this},zoomOut:function(){return Y(!0)},zoomIn:function(){return Y(!1)},getTransform:function(){return L},moveTo:function(t,e){h.graphCenterChanged(L.offsetX-t*L.scale,L.offsetY-e*L.scale),_()},getGraphics:function(){return h},dispose:function(){g=!1,U(),G(),a.off("resize",z),N.off(),d.stop(),t.forEachLink(function(t){e.renderLinks&&M(t)}),t.forEachNode(function(t){R(t),C(t)}),v.dispose(),h.release(m)},on:function(t,e){return N.on(t,e),this},off:function(t,e){return N.off(t,e),this}};function k(t){return"string"==typeof y?y.indexOf(t)>=0:"boolean"!=typeof y||y}function _(){h.beginRender(),e.renderLinks&&h.renderLinks(),h.renderNodes(),h.endRender()}function P(){return w=v.step()&&!b,_(),!w}function A(){E||(w=!1,d.restart())}function T(){var t=v.getGraphRect(),e=s(m),n=(t.x2+t.x1)/2,r=(t.y2+t.y1)/2;L.offsetX=e.width/2-(n*L.scale-n),L.offsetY=e.height/2-(r*L.scale-r),h.graphCenterChanged(L.offsetX,L.offsetY),x=!1}function I(t){var e=v.getNodePosition(t.id);h.addNode(t,e)}function C(t){h.releaseNode(t)}function S(t){var e=v.getLinkPosition(t.id);h.addLink(t,e)}function M(t){h.releaseLink(t)}function D(t){if(k("node")){var e=!1;n.bindDragNDrop(t,{onStart:function(){e=v.isNodePinned(t),v.pinNode(t,!0),b=!0,A()},onDrag:function(e,n){var r=v.getNodePosition(t.id);v.setNodePosition(t.id,r.x+n.x/L.scale,r.y+n.y/L.scale),b=!0,_()},onStop:function(){v.pinNode(t,e),b=!1}})}}function R(t){n.bindDragNDrop(t,null)}function B(e){var n=e.node;"add"===e.changeType?(I(n),D(n),x&&T()):"remove"===e.changeType?(R(n),C(n),0===t.getNodesCount()&&(x=!0)):"update"===e.changeType&&(R(n),C(n),I(n),D(n))}function O(t){var n=t.link;if("add"===t.changeType)e.renderLinks&&S(n);else if("remove"===t.changeType)e.renderLinks&&M(n);else if("update"===t.changeType)throw"Update type is not implemented. TODO: Implement me!"}function F(t){var e,n;for(e=0;e<t.length;e+=1)(n=t[e]).node?B(n):n.link&&O(n);A()}function z(){T(),P()}function G(){l&&(l.release(),l=null)}function U(){t.off("changed",F)}function Y(t,e){if(!e){var n=s(m);e={x:n.width/2,y:n.height/2}}var r=Math.pow(1.4,t?-.2:.2);return L.scale=h.scale(r,e),_(),N.fire("scale",L.scale),L.scale}};var r=n(0),o=n(19),i=n(28),a=n(63),u=n(5),f=n(17),s=n(18),c=n(6)},function(t,e,n){var r=n(13);function o(t,e){window.addEventListener(t,e)}function i(t,e){window.removeEventListener(t,e)}t.exports=function(){if("undefined"==typeof window)return r;return{on:o,off:i}}()}]);